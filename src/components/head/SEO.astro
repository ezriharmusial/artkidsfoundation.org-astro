---
import { SITE_DESCRIPTION, SITE_TITLE } from '~consts';

export interface Props {
	title: string;
	subTitle: string;
	seoTitle?: string;
	description: string;
	image?: string;
	imageAlt?: string;
	fbappid?: string;
}

const { title, subTitle, seoTitle, description, image, imageAlt, fbappid } = Astro.props
const { lang } = Astro.params

// Catch Image Url Inconsistencies
function imageUrl(image) {
	if (image) {
		// console.log('image', image)
		return "https://artkidsfoundation.org" + image
	}
	else {
		return "https://artkidsfoundation.org" + "/sharing.jpg"
	}
	return true;
}

const canonicalURL = "https://artkidsfoundation.org" + Astro.url.pathname;

---
<link rel="preload" as="image" href={imageUrl(image)}>

<!-- Global Metadata -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<meta name="generator" content={Astro.generator} />
<meta name="HandheldFriendly" content="true">
<meta name="author" content="ArtKids Foundation" />
<link rel="manifest" href="/manifest.json" crossorigin="use-credentials" />
<title>{SITE_TITLE + (seoTitle || title) || "Welcome to ArtKidsFoundation.org"}</title>
<meta name="robots" content="index,follow">
<meta name="description" content={description || SITE_DESCRIPTION}>
<!-- Facebook OpenGraph -->
<meta property="fb:app_id" content={fbappid}/>
<meta property="og:title" content={(seoTitle || title) || "Welcome to ArtKidsFoundation.org"}>
<meta property="og:description" content={description || subTitle || SITE_DESCRIPTION}>
<meta property="og:url" content={canonicalURL}>
<meta property="og:type" content="website">
<meta property="og:image" content={imageUrl(image)}>
<meta property="og:locale" content={lang == "en" ? "en_EN" : "nl_NL"}>
<meta property="og:site_name" content="ArtKidsFoundation.org">
<link rel="canonical" href={canonicalURL}>
<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:site" content="@ArtKidsTv1">
<meta property="twitter:title" content={seoTitle || title || "Welcome to ArtKidsFoundation.org"}>
<meta property="twitter:description" content={description || subTitle || "Welcome to ArtKidsFoundation.org"}>
<meta property="twitter:image" content={imageUrl(image)}>

<!-- Manifest Files -->
<link rel="shortcut icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />

<!-- <meta name="Description" content={description}> -->
<meta name="author" content="Stichting ArtKids Foundation">
<!-- Viewport (iPhone 5 friendly) -->
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/logo-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="/logo-192x192.png" sizes="192x192">

<!-- For iPhone with high-resolution Retina display: -->
<link rel="apple-touch-icon-precomposed" type="image/png" sizes="192x192" href="/logo-192x192.png">
<!-- For first- and second-generation iPad: -->
<link rel="apple-touch-icon-precomposed" type="image/png" sizes="72x72" href="/logo-72x72.png">

<!-- iPhone SPLASHSCREEN-->
<link rel="apple-touch-startup-image" type="image/png" href="/images/manifest/apple-touch-startup-image-320x460.png" media="(device-width: 320px)">
<!-- iPhone (Retina) SPLASHSCREEN-->
<link rel="apple-touch-startup-image" type="image/png" href="/images/manifest/apple-touch-startup-image-640x920.png" media="(device-width: 320px) and (device-height: 460px) and (-webkit-device-pixel-ratio: 2)">
<!-- iPhone 5 (Retina) SPLASHSCREEN-->
<link rel="apple-touch-startup-image" type="image/png" href="/images/manifest/apple-touch-startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
<!-- iPad (non-Retina) (Portrait) -->
<link rel="apple-touch-startup-image" type="image/png" href="/images/manifest/apple-touch-startup-image-768x1004.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)" />
<!-- iPad (Retina) (Portrait) -->
<link rel="apple-touch-startup-image" type="image/png" href="/images/manifest/apple-touch-startup-image-1536x2008.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait) and (-webkit-min-device-pixel-ratio: 2)" />
<!-- iPad (Retina) (Landscape) -->
<link rel="apple-touch-startup-image" type="image/png" href="/images/manifest/apple-touch-startup-image-2048x1496.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape) and (-webkit-min-device-pixel-ratio: 2)" />
<!-- Fullscreen -->
<meta name="apple-mobile-web-app-capable" content="yes">
<!-- Status bar styles -->
<meta name="apple-mobile-web-app-status-bar-style" content="default"/>
<meta name="apple-mobile-web-app-status-bar-style" content="yellow" />
<meta name="apple-mobile-web-app-status-bar-style" content="yellow-translucent"/>
<!-- Telephone format detection -->
<meta name="format-detection" content="telephone=no">
<!-- Title -->
<meta name="apple-mobile-web-app-title" content="ArtKids">
<meta name="application-name" content="ArtKids">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="true">
<meta name="mobile-web-app-capable" content="yes">
<meta name="MobileOptimized" content="width">
<meta name="msapplication-TileColor" content="#da532c" />
<meta name="theme-color" content="#f3750a" />

<span slot="ExtendedHeader">
	<!-- SEO section -->
	<link itemprop="thumbnailUrl" href={imageUrl(image)}>
	<span class="hidden" itemprop="thumbnail" itemscope itemtype="http://schema.org/ImageObject">
		<link itemprop="url" href={imageUrl(image)}>
	</span>
</span>
